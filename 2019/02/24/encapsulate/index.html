<!DOCTYPE html><html lang="en_US"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> How much your objects encapsulate ? · From Noobs To Geeks</title><meta name="description" content="How much your objects encapsulate ? - khanhtc"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/images/larry-hi.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://fromnoobstogeeks.com/atom.xml" title="From Noobs To Geeks"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/images/larry-hi.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="/about/" target="_self" class="nav-list-link">ABOUT</a></li><li class="nav-list-item"><a href="/projects/" target="_self" class="nav-list-link">PROJECTS</a></li><li class="nav-list-item"><a href="https://github.com/khanhtc1202" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">How much your objects encapsulate ?</h1><div class="post-info">Feb 24, 2019</div><div class="post-content"><p>Encapsulate ( tài liệu tiếng Việt thường dịch là <code>đóng gói</code> ) hay được nhắc đến và ví dụ như là cách để <code>che giấu</code> thông tin trong lập trình hướng đối tượng.</p>
<a id="more"></a>
<blockquote>
<p>Tức là trạng thái của đối tượng được bảo vệ không cho các truy cập từ code bên ngoài như thay đổi trong thái hay nhìn trực tiếp. Việc cho phép môi trường bên ngoài tác động lên các dữ liệu nội tại của một đối tượng theo cách nào là hoàn toàn tùy thuộc vào người viết mã. Đây là tính chất đảm bảo sự toàn vẹn, bảo mật của đối tượng Trong Java, tính đóng gói được thể hiện thông qua phạm vi truy cập (access modifier).</p>
</blockquote>
<p>Từ <a href="https://en.wikipedia.org/wiki/Encapsulation_(computer_programming)" target="_blank" rel="noopener">wiki</a> ta có định nghĩa</p>
<blockquote>
<p>Encapsulation is one of the fundamentals of OOP (object-oriented programming). It refers to the bundling of data with the methods that operate on that data. Encapsulation is used to hide the values or state of a structured data object inside a class, preventing unauthorized parties' direct access to them. Publicly accessible methods are generally provided in the class (so-called getters and setters) to access the values, and other client classes call these methods to retrieve and modify the values within the object.</p>
</blockquote>
<p>Những thứ nổi lên và dễ đập vào mắt nhất khi đọc định nghĩa này là &quot;đảm bảo sự toàn vẹn&quot;, &quot;không cho các truy cập từ code bên ngoài&quot;, &quot;hide the values or state&quot;,...đại ý là cấm thay đổi trực tiếp value và state nhưng sau cùng lại có <code>getters and setters</code> @@ nếu đã tồn tại 2 thứ này, sau cùng vẫn có cách để bạn thay đổi value hay state của object, vậy rút cuộc encapsulate mang ý nghĩa gì, và liệu cách hiểu như vậy có phải là một cách hiểu đúng :))</p>
<p>Thử nghĩ lại một chút qua ví dụ sau:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> HTTP(<span class="string">"https://www.google.com"</span>).read();</span><br><span class="line"><span class="keyword">new</span> HTTP().read(<span class="string">"https://www.google.com"</span>);</span><br></pre></td></tr></table></figure>
<p>Có gì khác biệt giữa 2 cách code trên ? Class <code>HTTP</code> thứ nhất encapsulate URL như là một thành phần của chính nó, trong khi class <code>HTTP</code> thứ hai nhận vào URL như là biến cần thiết để thực hiện hành vi <code>read()</code>. Về cơ bản, object tạo bởi 2 class nói trên khi gọi read đều thực hiện cùng một hành vi: chúng đọc nội dung từ google. Vậy cách dùng nào <code>đúng</code> ? Câu trả lời có vẻ là tuỳ thuộc vào việc dùng chúng vào mục đích gì.</p>
<p>Một cách mô tả về object trong OOP mà ai cũng biết, object là <code>thế hiện của một thực thể trong thực tế</code>! Object tồn tại trong cái môi trường được gọi là thực tế đó và biết cách <code>tương tác với môi trường</code> thông qua các <code>hành vi</code>. Nếu vậy trong ví dụ về object của 2 class <code>HTTP</code> bên trên, những object đó thể hiện cho đối tượng nào trong thực tế? Rõ ràng, mỗi class (với thiết kế khác nhau) thể hiện cho một thực thể khác nhau :)</p>
<p>Class <code>HTTP</code> thứ nhất, nhận vào một URL thông qua constructor, nó chỉ cho ta biết rằng: object của class này sau khi được khởi tạo thông qua constructor sẽ là thể hiện cho một trang web (cái mà được trỏ đến bởi URL).</p>
<p>Class <code>HTTP</code> thứ hai, với một constructor không có tham số, nó chỉ ra rằng: object khởi tạo bởi nó là thể hiện của...vũ trụ (the Universe)!</p>
<p>Có một cách đơn giản để biết một class là thể hiện của thực thể nào trong thực tế, đó là <code>nhìn vào constructor</code> - hay một cách cụ thể hơn: cách tạo ra object thuộc kiểu của class đó</p>
<blockquote>
<p>In order to understand what real-life entity an object represents, look at its constructor.</p>
</blockquote>
<p>Về cơ bản, class nắm giữ cách tạo ra object trong môi trường object tồn tại, định nghĩa về object được xác định thông qua cách mà nó được tạo ra. Các tham số được truyền vào cho constructor và được encapsulate bởi object, nhằm định nghĩa object đó là thể hiện của thực thể nào trong môi trường.</p>
<p>Và bây giờ, thử làm rõ hơn câu hỏi đã đề ra: <strong>class nào trong 2 class HTTP đã đưa ra được thiết kế đúng?</strong> bằng cách thay nó bởi câu hỏi: <strong>class nào thể hiện thực thể tốt hơn? web page hay the Universe?</strong> Tuy nhiên có một điều chúng ta đã biết: trong phần lớn trường hợp, càng tập trung thể hiện một thực thể đủ nhỏ - ta nắm rõ bao nhiêu, object ta thiết kế ra càng bền vững và gắn kết (solid &amp; cohesive) bấy nhiêu.</p>
<p>Mặt khác, đôi khi chúng ta cũng cần những object thể hiện các thực thể có độ lớn như vũ trụ. Ví dụ như trong trường hợp class <code>HTTP</code> thứ hai bên trên:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HTTP</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">read</span><span class="params">(String url)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// read via HTTP and return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">online</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// check whether we're online</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Nó có thể không phải là một thiết kế tốt, tuy nhiên nó cần thiết nếu như muốn thể hiện những thực thể có kích thước vũ trụ. Một object của class <code>HTTP</code> trên có thể đọc thông tin từ bất cứ trang web nào trên internet (có lẽ số lượng cũng nhiều và đủ lớn để so sánh với kích thước vũ trụ?), và đồng thời biết cách kiểm tra xem trạng thái hiện tại của những trang web đó,...tất nhiên với một object là thể hiện của vũ trụ, không có gì giới hạn việc bạn thêm vào bao nhiêu hành vi cho nó cả :)). Trong trường hợp này, chúng ta thực sự không cần thiết phải encapsulate bất cứ gì vào trong nó.</p>
<p>Tôi tin rằng, <strong>những object với thiết kế để thể hiện cho thực thể vũ trụ là những object có thiết kế không tốt!</strong> Một trong những lý do chính vì chúng ta chỉ có một vũ trụ (the Universe) - hay ít nhất, trong trường hợp nó có nhiều phiên bản, nó cũng khá tương tự nhau đối với chúng ta; tại sao chúng ta phải thiết kế nhiều thể hiện khác nhau cho nó chứ? :))</p>
<p>Tham khảo: https://www.yegor256.com/2014/12/15/how-much-your-objects-encapsulate.html</p>
</div></article></div></main><footer><div class="paginator"><a href="/2019/03/23/why_can_not_new_abstract_class/" class="prev">PREV</a><a href="/2018/08/31/content-trick/" class="next">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'fromnoobstogeeks';
var disqus_identifier = '2019/02/24/encapsulate/';
var disqus_title = 'How much your objects encapsulate ?';
var disqus_url = 'https://fromnoobstogeeks.com/2019/02/24/encapsulate/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//fromnoobstogeeks.disqus.com/count.js" async></script><div class="copyright"><p>© 2017 - 2019 <a href="https://fromnoobstogeeks.com">khanhtc</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>